# Chat Service

Этот микросервис отвечает за управление чатами, сообщениями и real-time подключениями.

## Функциональность

*   Создание новых чатов.
*   Отправка сообщений в чаты.
*   Получение истории сообщений чата.
*   Подписка на новые сообщения в чате в реальном времени (через gRPC stream).
*   Управление подписками.

## API

Сервис предоставляет gRPC API. Определение API находится в каталоге `api/proto/chat.proto`.

## Запуск

1.  **Установите зависимости:**
    ```bash
    go mod tidy
    ```
2.  **Настройте переменные окружения:**
    Создайте файл `.env` в корне каталога `chat-service` и укажите необходимые переменные:
    ```dotenv
    DATABASE_URL=postgres://user:password@host:port/dbname # Параметры подключения к БД
    GRPC_PORT=50052                                    # Порт для gRPC сервера
    CHAT_AUTH_SERVICE_ADDR=localhost:50051             # Адрес сервиса аутентификации
    ```
3.  **Запустите сервис:**
    ```bash
    go run cmd/main.go
    ```

## Зависимости

*   База данных PostgreSQL (или другая совместимая).
*   Работающий экземпляр `auth-service` для проверки токенов и получения информации о пользователях.

## Конфигурация

Сервис конфигурируется с помощью переменных окружения:

*   `DATABASE_URL`: Строка подключения к базе данных.
*   `GRPC_PORT`: Порт, на котором будет запущен gRPC сервер.
*   `CHAT_AUTH_SERVICE_ADDR`: Адрес и порт gRPC сервера `auth-service`.
